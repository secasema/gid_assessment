(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(22)},16:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(2),c=a.n(o),i=(a(16),a(3)),s=a(4),l=a(8),p=a(5),u=a(9),d=a(6),m=a.n(d),f=function(e){var t=e.title,a=e.location,n=e.duration,o=e.programmes,c=e.coverPhotoUrl,i=e.onClick;return r.a.createElement("li",{className:"Opportunity",onClick:function(){return i()}},r.a.createElement("div",{className:"Opp-header"},r.a.createElement("h2",null,t)),r.a.createElement("div",{className:"App-intro"},r.a.createElement("p",null,a),r.a.createElement("p",null,n," weeks"),r.a.createElement("p",null,o.short_name),r.a.createElement("p",null,r.a.createElement("img",{src:c,alt:""}))))},g=function(e,t){var a="".concat("http://gisapi-web-staging-1636833739.eu-west-1.elb.amazonaws.com/v2/"+e,"/?access_token=").concat(t.access_token,"&page=").concat(t.page);return fetch(a,t).then(function(e){return e.json()}).then(function(e){if(!e.paging||!e.data)throw new Error("EXPA did not return paged object: ".concat(JSON.stringify(e)));return e})},h=a(7),E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={isLoaded:!1,hasMoreItems:!0,opps:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"loadItems",value:function(e){var t=this;return g("opportunities",{access_token:h.ACCESS_TOKEN,page:e}).then(function(a){var n=a.paging,o=a.data,c=function(){alert("TO-DO: Modal for editing opps")},i=o.map(function(e){var t=e.id,a=e.title,n=e.location,o=e.duration,i=e.organisation,s=e.programmes,l=e.cover_photo_urls;return r.a.createElement(f,{key:t,title:a,location:n,duration:o,organisation:i,programmes:s,coverPhotoUrl:l,onClick:c})});t.setState(function(t){return{currentPage:e+1,isLoaded:!0,hasMoreItems:n.current_page!==n.total_pages,opps:t.opps.concat(i)}})},function(e){t.setState({isLoaded:!0,error:e})})}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"loader"},"Loading ..."),a=this.state,n=a.hasMoreItems,o=a.opps;return r.a.createElement(m.a,{pageStart:1,loadMore:function(t){return e.loadItems(t)},hasMore:n,loader:t},r.a.createElement("div",{className:"Opps-wrapper"},o))}}]),t}(r.a.Component);E.displayName="App";var v=E;c.a.render(r.a.createElement(v),document.getElementById("root"))},7:function(e,t){e.exports={ACCESS_TOKEN:"dd0df21c8af5d929dff19f74506c4a8153d7acd34306b9761fd4a57cfa1d483c"}}},[[10,2,1]]]);
//# sourceMappingURL=main.636f82ef.chunk.js.map